# 2022 회고

작성일: 2023-01-29

## 첫 회사

2021년에 소프트웨어 마에스트로 12기를 수료하고 곧이어 강남의 모 이커머스 스타트업에 취업했다. 직군은 `데이터 엔지니어` 였고, 사내 구성원들이 사용하는 데이터 프로덕트를 제공하는 것이 업무였다. 이론으로만 들었던 여러 기술을 사용하여 데이터 파이프라인을 구축하고 사내 구성원들이 데이터를 쉽게 조회할 수 있도록 데이터 플랫폼을 제공하는 것이 주요 업무였다. 주로 쿼리 모니터링 도구 만들기, S2S MMP 성능 개선, A/B 테스팅 플랫폼 마이그레이션 등을 진행했다.

결론부터 말하자면 수습기간 3개월 후 자진 퇴사했다. 첫 번째 이유는 온보딩 기간 중에 거의 혼자 내부 컨텍스트와 프로덕트에 대해 파악을 했어야했고, 문서화가 많이 되어있지 않아 적응하기 힘들었다. 구성원 대부분이 재택을 해서(팀에서 출근은 거의 나만 했다) 어디 물어보기도 힘들었고, 그런 문서를 찾기도 힘들었다. 문서를 찾았어도 *outdated 된 문서* 가 발목을 잡았다. 퇴사 전 면담에서 이야기를 드렸고, 인지하고 있으나 많이 아쉽다고 답변주셨다.

두 번째는 내부 프로덕트에 문제가 있음에도 다른 일의 우선순위 때문에 미루거나 안된다는 것들 자주 있었는데, 이에 대한 의견을 냈을 때 정확한 사유, 내지는 납득할 만한 이유를 듣지 못했다. 내가 작업한 내용들이 외부로 나가는 데이터가 아니라서 비즈니스 크리티컬하진 않지만 내부 사용자들에게는 많은 불편을 들었고, 이를 개선하기 위한 의견을 제시했으나 대부분 받아들여지지 않았다. 최소한의 수고를 들여 모니터링 도구를 자진 개발했고, 사내 구성원이 "쿼리가 멈췄어요!" 같은 노티를 주기 전에 인지할 수 있게 되었지만 근본적인 원인 해결은 힘들었다.

마지막으로는 의견 동기화가 잘 안됐다. 앞서 이야기했듯이 팀원들간 의견 동기화, 리드 레벨에서의 의견 동기화가 안 되니 일을 받는 입장에서 어떤 걸 따라야하는지 잘 모르겠었고, 같은 질문을 다른 두 사람에게 주면 의견이 달랐다. 결국 미팅을 잡아서 해결을 했었지만, 그 과정이 좋은 경험은 아니었다.

### 배운 점

1. 의사결정 과정은 투명하게, 적어도 구성원이 납득할 수 있어야 한다.
    - 언젠가 내가 리드가 된다면, 이 과정을 투명하게 공개하는 것이 좋을것 같다는 생각이 들었다.
2. 문서화는 중요하다. 기능 개발은 후, 다음 사람(혹은 자기 자신)이 잘 읽을 수 있도록 문서화를 해두어야 한다.
    - 모든 회사에서 겪고있는 문제라고 생각한다. 모두가 문서화에 관심을 가지는 문화가 필요하다.
    - [Shopify - 생산성을 올리는 좋은 문서화](https://shopify.engineering/good-documentation-productivity) 를 읽어보자.
3. 그래도 blame 은 하지 말자. 그들도 그들의 사정이 있었을 것이고, 나와 맞지 않았을 뿐이다.

## 두 번째 회사

3월 중순쯤에 첫 회사를 퇴사했는데 2월쯤부터 이직을 해야겠다는 생각을 했고 지금 회사의 CTO님께 주저없이 연락을 드렸다. 간단하게 1시간 정도 커피챗을 진행하고, 정식 루트를 거쳐 퇴사 2주 후인 3월 말부터 출근했다. 지금은 컨텍스트도 (아직 부족하다고 생각이 들지만) 쌓였고, 여러 기능도 만들어보고 장애도 내보면서 만든 경험들을 공유하자면,

- 기술적인 관점
    - `Terraform` 으로 IaC 를 해봤다. 이제는 인프라 수정사항이 생기면 AWS Provider 문서를 참고해서 인프라를 수정할 수 있다.
    - `Kafka` 에 대해서 공부를 했다. 특히 Consumer 쪽에 관련된 이슈를 경험하면서 confluent 에서 제공하는 kafka client 패키지와 grpc 패키지 등을 직접 까보고 트러블슈팅 해봤다. 
        - 나름 큰 회사에서도 어이없는 DX를 만들 수 있다는 걸 경험했다.
        - 갑자기 특정 버전부터 API를 바꾼다거나(release note 에 breaking change 도 없었음), default 옵션이 이상하다거나...
    - 무조건 `읽기 쉬운 코드`를 작성하려 노력하고 있다. 근데 마음처럼 잘 안된다.
        - 근데 다른 사람이 작성한 코드를 내가 리뷰할 때는 그런게 잘 보인다. 나한테는 객관화가 안되나보다.
- 운영적인 관점
    - 서비스가 오래 운영되면서 겪을 수 있는 여러 상황을 마주했다.
        - 패키지/런타임 업그레이드
        - 많아진 기능 속에 코드 복잡도 줄이기
            - 물론 갈 길은 멀다.
    - 프로덕션 코드 배포와 모니터링, 그리고 몇몇 `장애`를 만들었다. 이로 인한 임팩트 확인, 해결, 이슈 공지, 포스트모텀 등을 했다.
        - 여기서 monitoring, alerting 하는게 중요하고 실패했다면 다음에는 발생하지 않도록 하는 문화가 좋았다.
    - B2B SaaS 회사다 보니 고객사로부터 VoC 가 들어왔을 때 기술적으로 해결하는 경험을 종종 했다.
    - 서비스가 커질수록 특정 기능을 변경했을 때 어디까지 영향을 미치는지 파악하기가 힘들었다. 크로스체크를 하긴 했지만 몇몇 장애를 내본거 같다.
        - 서비스 초반에 dev 환경을 구축해놨다면 이와 관련된 장애를 줄일 수 있었을 것 같다.
        - 이는 항상 master 와 sync 되어있어야 할 거 같다.
- 삶에 대하여
    - 직장인이면 항상 일이 queueing 되어있을텐데, 이걸 해결하려 `야근`도 많이 했다. 
        - 일을 잘 쳐내는건 좋으나 앞으로는 건강도 생각해야겠다(연초에 많이 아팠다)

### 배운 점

1. 지금 하는게 가장 비용적으로 싸다.
2. 여러 레포지토리에서 참조할 util 성 레포지토리를 분리하지 말자.
    - 처음에는 좋았겠지만 나중에 비즈리스 로직별로 분리하는 것도 일이다.
3. 내 시간을 온전히 작업에 할당할 수 있도록 interruption 들을 없애야한다.
    - 만약 가능하면 자동화(백오피스 등) 하자.
4. 집중할 수 있는 시간과 환경을 갖자.
    - 나는 이번 생에 재택근무를 할 사람이 아닌가보다. 급한거 아니라면 집에서는 일하지 말자.
5. 실수는 누구나 언제든지 할 수 있다. 그러므로 blame 하지 말자. 그리고 재발하지 않도록 시스템을 만들자.
6. R&R(역할과 책임) 분리를 잘 하자. 코드, 운영, 회사 어디에서든.

## 2023년 목표

1. ops 지식 더 쌓기
    - 동료 피셜 devops 는 `devdev`ops 와 dev`opsops` 가 있다고 한다
    - 요즘 생각인데, dev 가 쉬워지려면 코드베이스의 complexity 도 관건이지만 인프라와 CI/CD 가 빠르게 queueing 되고 deploy 되는것도 관건인거 같다.
    - 많은 회사에서 K8s 를 도입하고 있다. 2023년은 K8s 경험을 쌓을 수 있을거라 관련된 공부를 좀 해둬야겠다.
2. 의도적으로 시간을 조금씩 비우기
    - 오랜만에 TIL 에 커밋을 해보는데, 2020, 2021 년도에는 공부를 열심히 했던거 같다(그래서 뭐가 많다) 회사 들어오고 난 다음에는 개인 공부를 할 시간이 거의 없어서 하던 것만 계속 한 거 같은데, 시간을 조금씩 내서 새로운 걸 공부해야겠다.
    - 쉼 없이 쭉 달려온거 같다. 중간에 번아웃도 있었는데, 시간을 비워서 휴식도 하고 내면을 다지는 나만의 시간을 갖도록 하자.
3. 코드 좀 잘 짜기
    - 목표는 PR review 할 때 코드 관련 comment 를 줄이는 것이다.
    - 잘 짠 코드를 많이 보고, 구조적으로도 깔끔하게 짤 수 있도록 노력하자.
4. 쌓인 책 읽기
